!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(t,e,n){!function(t,n){n(e)}(this,function(t){function e(t,e,n){this.nodeName=t,this.attributes=e,this.children=n,this.key=e&&e.key}function n(t,n){var o,r,i,a,u=[];for(a=arguments.length;a-- >2;)D.push(arguments[a]);for(n&&n.children&&(D.length||D.push(n.children),delete n.children);D.length;)if((r=D.pop())instanceof Array)for(a=r.length;a--;)D.push(r[a]);else null!=r&&r!==!1&&("number"!=typeof r&&r!==!0||(r=String(r)),i="string"==typeof r,i&&o?u[u.length-1]+=r:(u.push(r),o=i));var s=new e(t,n||void 0,u);return B.vnode&&B.vnode(s),s}function o(t,e){if(e)for(var n in e)t[n]=e[n];return t}function r(t){return o({},t)}function i(t,e){for(var n=e.split("."),o=0;o<n.length&&t;o++)t=t[n[o]];return t}function a(t){return"function"==typeof t}function u(t){return"string"==typeof t}function s(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function c(t,e){return n(t.nodeName,o(r(t.attributes),e),arguments.length>2?[].slice.call(arguments,2):t.children)}function l(t,e,n){var o=e.split(".");return function(e){for(var r=e&&e.target||this,a={},s=a,c=u(n)?i(e,n):r.nodeName?r.type.match(/^che|rad/)?r.checked:r.value:e,l=0;l<o.length-1;l++)s=s[o[l]]||(s[o[l]]=!l&&t.state[o[l]]||{});s[o[l]]=c,t.setState(a)}}function p(t){!t._dirty&&(t._dirty=!0)&&1==J.push(t)&&(B.debounceRendering||G)(f)}function f(){var t,e=J;for(J=[];t=e.pop();)t._dirty&&T(t)}function d(t){var e=t&&t.nodeName;return e&&a(e)&&!(e.prototype&&e.prototype.render)}function h(t,e){return t.nodeName(m(t),e||H)}function v(t,e){return u(e)?t instanceof Text:u(e.nodeName)?!t._componentConstructor&&y(t,e.nodeName):a(e.nodeName)?!t._componentConstructor||t._componentConstructor===e.nodeName||d(e):void 0}function y(t,e){return t.normalizedNodeName===e||z(t.nodeName)===z(e)}function m(t){var e=r(t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(n)for(var o in n)void 0===e[o]&&(e[o]=n[o]);return e}function b(t){var e=t.parentNode;e&&e.removeChild(t)}function g(t,e,n,o,r){if("className"===e&&(e="class"),"class"===e&&o&&"object"==typeof o&&(o=s(o)),"key"===e);else if("class"!==e||r)if("style"===e){if((!o||u(o)||u(n))&&(t.style.cssText=o||""),o&&"object"==typeof o){if(!u(n))for(var i in n)i in o||(t.style[i]="");for(var i in o)t.style[i]="number"!=typeof o[i]||V[i]?o[i]:o[i]+"px"}}else if("dangerouslySetInnerHTML"===e)t.innerHTML=o&&o.__html||"";else if("o"==e[0]&&"n"==e[1]){var c=t._listeners||(t._listeners={});e=z(e.substring(2)),o?c[e]||t.addEventListener(e,k,!!$[e]):c[e]&&t.removeEventListener(e,k,!!$[e]),c[e]=o}else if("list"!==e&&"type"!==e&&!r&&e in t)_(t,e,null==o?"":o),null!=o&&o!==!1||t.removeAttribute(e);else{var l=r&&e.match(/^xlink\:?(.+)/);null==o||o===!1?l?t.removeAttributeNS("http://www.w3.org/1999/xlink",z(l[1])):t.removeAttribute(e):"object"==typeof o||a(o)||(l?t.setAttributeNS("http://www.w3.org/1999/xlink",z(l[1]),o):t.setAttribute(e,o))}else t.className=o||""}function _(t,e,n){try{t[e]=n}catch(t){}}function k(t){return this._listeners[t.type](B.event&&B.event(t)||t)}function w(t){if(b(t),t instanceof Element){t._component=t._componentConstructor=null;var e=t.normalizedNodeName||z(t.nodeName);(q[e]||(q[e]=[])).push(t)}}function x(t,e){var n=z(t),o=q[n]&&q[n].pop()||(e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t));return o.normalizedNodeName=n,o}function C(){for(var t;t=X.pop();)B.afterMount&&B.afterMount(t),t.componentDidMount&&t.componentDidMount()}function E(t,e,n,o,r,i){Q++||(Y=r instanceof SVGElement,Z=t&&!(K in t));var a=S(t,e,n,o);return r&&a.parentNode!==r&&r.appendChild(a),--Q||(Z=!1,i||C()),a}function S(t,e,n,o){for(var r=e&&e.attributes;d(e);)e=h(e,n);if(null==e&&(e=""),u(e))return t&&t instanceof Text?t.nodeValue!=e&&(t.nodeValue=e):(t&&N(t),t=document.createTextNode(e)),t[K]=!0,t;if(a(e.nodeName))return M(t,e,n,o);var i=t,s=String(e.nodeName),c=Y,l=e.children;if(Y="svg"===s||"foreignObject"!==s&&Y,t){if(!y(t,s)){for(i=x(s,Y);t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),N(t)}}else i=x(s,Y);var p=i.firstChild,f=i[K];if(!f){i[K]=f={};for(var v=i.attributes,m=v.length;m--;)f[v[m].name]=v[m].value}return U(i,e.attributes,f),!Z&&l&&1===l.length&&"string"==typeof l[0]&&p&&p instanceof Text&&!p.nextSibling?p.nodeValue!=l[0]&&(p.nodeValue=l[0]):(l&&l.length||p)&&O(i,l,n,o),r&&"function"==typeof r.ref&&(f.ref=r.ref)(i),Y=c,i}function O(t,e,n,o){var r,i,a,u,s=t.childNodes,c=[],l={},p=0,f=0,d=s.length,h=0,y=e&&e.length;if(d)for(var m=0;m<d;m++){var g=s[m],_=g[K],k=y?(i=g._component)?i.__key:_?_.key:null:null;null!=k?(p++,l[k]=g):(Z||_)&&(c[h++]=g)}if(y)for(var m=0;m<y;m++){a=e[m],u=null;var k=a.key;if(null!=k)p&&k in l&&(u=l[k],l[k]=void 0,p--);else if(!u&&f<h)for(r=f;r<h;r++)if(i=c[r],i&&v(i,a)){u=i,c[r]=void 0,r===h-1&&h--,r===f&&f++;break}u=S(u,a,n,o),u&&u!==t&&(m>=d?t.appendChild(u):u!==s[m]&&(u===s[m+1]&&b(s[m]),t.insertBefore(u,s[m]||null)))}if(p)for(var m in l)l[m]&&N(l[m]);for(;f<=h;)u=c[h--],u&&N(u)}function N(t,e){var n=t._component;if(n)I(n,!e);else{t[K]&&t[K].ref&&t[K].ref(null),e||w(t);for(var o;o=t.lastChild;)N(o,e)}}function U(t,e,n){for(var o in n)e&&o in e||null==n[o]||g(t,o,n[o],n[o]=void 0,Y);if(e)for(var r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||g(t,r,n[r],n[r]=e[r],Y)}function P(t){var e=t.constructor.name,n=tt[e];n?n.push(t):tt[e]=[t]}function j(t,e,n){var o=new t(e,n),r=tt[t.name];if(L.call(o,e,n),r)for(var i=r.length;i--;)if(r[i].constructor===t){o.nextBase=r[i].nextBase,r.splice(i,1);break}return o}function R(t,e,n,o,r){t._disable||(t._disable=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,!t.base||r?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,o),o&&o!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=o),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&B.syncComponentUpdates===!1&&t.base?p(t):T(t,1,r)),t.__ref&&t.__ref(t))}function T(t,e,n,i){if(!t._disable){var u,s,c,l,p=t.props,f=t.state,v=t.context,y=t.prevProps||p,b=t.prevState||f,g=t.prevContext||v,_=t.base,k=t.nextBase,w=_||k,x=t._component;if(_&&(t.props=y,t.state=b,t.context=g,2!==e&&t.shouldComponentUpdate&&t.shouldComponentUpdate(p,f,v)===!1?u=!0:t.componentWillUpdate&&t.componentWillUpdate(p,f,v),t.props=p,t.state=f,t.context=v),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!u){for(t.render&&(s=t.render(p,f,v)),t.getChildContext&&(v=o(r(v),t.getChildContext()));d(s);)s=h(s,v);var S,O,U=s&&s.nodeName;if(a(U)){var P=m(s);c=x,c&&c.constructor===U&&P.key==c.__key?R(c,P,1,v):(S=c,c=j(U,P,v),c.nextBase=c.nextBase||k,c._parentComponent=t,t._component=c,R(c,P,0,v),T(c,1,n,!0)),O=c.base}else l=w,S=x,S&&(l=t._component=null),(w||1===e)&&(l&&(l._component=null),O=E(l,s,v,n||!_,w&&w.parentNode,!0));if(w&&O!==w&&c!==x){var M=w.parentNode;M&&O!==M&&(M.replaceChild(O,w),S||(w._component=null,N(w)))}if(S&&I(S,O!==w),t.base=O,O&&!i){for(var L=t,A=t;A=A._parentComponent;)(L=A).base=O;O._component=L,O._componentConstructor=L.constructor}}!_||n?X.unshift(t):u||(t.componentDidUpdate&&t.componentDidUpdate(y,b,g),B.afterUpdate&&B.afterUpdate(t));var D,W=t._renderCallbacks;if(W)for(;D=W.pop();)D.call(t);Q||i||C()}}function M(t,e,n,o){for(var r=t&&t._component,i=t,a=r&&t._componentConstructor===e.nodeName,u=a,s=m(e);r&&!u&&(r=r._parentComponent);)u=r.constructor===e.nodeName;return r&&u&&(!o||r._component)?(R(r,s,3,n,o),t=r.base):(r&&!a&&(I(r,!0),t=i=null),r=j(e.nodeName,s,n),t&&!r.nextBase&&(r.nextBase=t,i=null),R(r,s,1,n,o),t=r.base,i&&t!==i&&(i._component=null,N(i))),t}function I(t,e){B.beforeUnmount&&B.beforeUnmount(t);var n=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var o=t._component;if(o)I(o,e);else if(n){n[K]&&n[K].ref&&n[K].ref(null),t.nextBase=n,e&&(b(n),P(t));for(var r;r=n.lastChild;)N(r,!e)}t.__ref&&t.__ref(null),t.componentDidUnmount&&t.componentDidUnmount()}function L(t,e){this._dirty=!0,this.context=e,this.props=t,this.state||(this.state={})}function A(t,e,n){return E(n,t,{},!1,e)}var B={},D=[],W={},z=function(t){return W[t]||(W[t]=t.toLowerCase())},F="undefined"!=typeof Promise&&Promise.resolve(),G=F?function(t){F.then(t)}:setTimeout,H={},K="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",V={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},$={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},J=[],q={},X=[],Q=0,Y=!1,Z=!1,tt={};o(L.prototype,{linkState:function(t,e){var n=this._linkedStates||(this._linkedStates={});return n[t+e]||(n[t+e]=l(this,t,e))},setState:function(t,e){var n=this.state;this.prevState||(this.prevState=r(n)),o(n,a(t)?t(n,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),p(this)},forceUpdate:function(){T(this,2)},render:function(){}}),t.h=n,t.cloneElement=c,t.Component=L,t.render=A,t.rerender=f,t.options=B})},function(t,e,n){"use strict";function o(t,e){return new Promise(function(n,o){var r=new XMLHttpRequest;r.responseType="arraybuffer",e&&(r.onprogress=function(t){return e(Math.floor(t.loaded/t.total))}),r.onerror=o,r.onload=function(){200===r.status?n(r.response):o(new Error("Got "+r.status+" from "+t))},r.open("GET",t,!0),r.send()})}function r(t){return t&&t.ok?t.blob():null}e.b=o,e.a=r},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){var e=Math.floor(t/60);e<10&&(e="0"+e);var n=Math.floor(t%60);return n<10&&(n="0"+n),e+":"+n}function u(t){return fetch("/p/"+t+"/list").then(function(t){return t.json()})}function s(t,e,o,r){var i=c(t,e),a=l(t,e);return Promise.all([caches.open("episodes"),n.i(d.b)(i),n.i(d.b)(a,r)]).then(function(t){var e=y(t,3),n=e[0],o=e[1],r=e[2];n.put(i,new Response(o)),n.put(a,new Response(r))})}function c(t,e){return"/p/"+t+"/episodes/"+e+"/image"}function l(t,e){return"/p/"+t+"/episodes/"+e+"/audio"}function p(t,e,n){return Math.max(Math.min(t,n),e)}var f=n(0),d=(n.n(f),n(1)),h=n(5),v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},y=function(){function t(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&u.return&&u.return()}finally{if(r)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),b=(location.pathname.split("/")[2],function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={currentImageUrl:"",currentAudioUrl:"",episodes:[],index:0,playing:!1,position:0,duration:0,autoplay:!0},n}return i(e,t),m(e,[{key:"componentDidMount",value:function(){var t=this,e=this.audioEl;u(this.props.podcast).then(function(e){t.setState({episodes:e}),t.load()}),e.ontimeupdate=function(){t.setState({position:e.currentTime})},e.ondurationchange=function(){t.setState({duration:e.duration})},e.onplaying=e.onpause=function(){t.setState({playing:!e.paused})},window.onbeforeunload=function(){return t.save()},window.addEventListener("keyup",function(e){"Space"===e.code&&(e.preventDefault(),t.togglePlaying())})}},{key:"render",value:function(t,e){var o=this,r=e.currentImageUrl,i=e.currentAudioUrl,u=e.index,s=e.episodes,c=e.autoplay,l=e.playing,p=e.position,d=e.duration,v=s[u]||{},y=v.title,m=(v.imageUrl,v.audioUrl,v.status),b="icon-download",g="Download Episode";return"downloading"===m?(b="icon-spin",g="Downloading..."):"downloaded"===m&&(b="icon-ok",g="Downloaded to Device"),n.i(f.h)("div",{class:"player"},n.i(f.h)("div",{class:"titlebar"},n.i(f.h)("a",{class:"back button",href:"/"},n.i(f.h)("span",{class:"icon-play"})),n.i(f.h)("h1",{class:"title"},y)),n.i(f.h)(h.a,{src:r}),n.i(f.h)("audio",{class:"audio",ref:function(t){return o.audioEl=t},autoplay:c,preload:"auto",src:i,onPause:function(){return o.save()},onEnded:function(){return o.episodeEnded()}}),n.i(f.h)("div",{class:"seek_scrub"},n.i(f.h)("button",{class:"toggle-playing",onClick:function(){return o.togglePlaying()},title:l?"Pause":"Play"},n.i(f.h)("span",{class:l?"icon-pause":"icon-play"})),n.i(f.h)("input",{class:"scrubber",type:"range",min:"0",max:Math.round(d),value:Math.round(p),onInput:function(t){return o.seekTo(parseInt(t.target.value))}}),n.i(f.h)("div",{class:"time"},a(p)+" / "+a(d))),n.i(f.h)("div",{class:"seek"},n.i(f.h)("button",{onClick:function(){return o.seekBackward(30)},title:"Back 30 Seconds"},n.i(f.h)("span",{class:"icon-fast-bw"})," 30"),n.i(f.h)("button",{onClick:function(){return o.seekBackward(5)},title:"Back 5 Seconds"},n.i(f.h)("span",{class:"icon-fast-bw"})," 5"),n.i(f.h)("button",{onClick:function(){return o.seekForward(5)},title:"Forward 5 Seconds"},"5 ",n.i(f.h)("span",{class:"icon-fast-fw"})),n.i(f.h)("button",{onClick:function(){return o.seekForward(30)},title:"Forward 30 Seconds"},"30 ",n.i(f.h)("span",{class:"icon-fast-fw"}))),n.i(f.h)("div",{class:"nav"},n.i(f.h)("button",{onClick:function(){return o.previousEpisode()},title:"Previous Episode"},n.i(f.h)("span",{class:"icon-to-start-alt"})),n.i(f.h)("input",{type:"number",onKeyUp:function(t){return o.gotoIndexOnEnter(t)},onInput:function(t){return o.gotoIndex(t)},value:u+1}),n.i(f.h)("button",{onClick:function(){return o.nextEpisode()},title:"Next Episode"},n.i(f.h)("span",{class:"icon-to-end-alt"})),n.i(f.h)("button",{onClick:function(){return o.cacheEpisode()},title:g},n.i(f.h)("span",{class:b}))),n.i(f.h)("div",{class:"options"},n.i(f.h)("span",null,n.i(f.h)("input",{type:"checkbox",id:"autoplay_opt",checked:c,onChange:function(t){return o.setAutoplay(t.target.checked)}}),n.i(f.h)("label",{for:"autoplay_opt"},"Autoplay"))))}},{key:"previousEpisode",value:function(){var t=this.state.index;this.selectEpisode(Math.max(t-1,0))}},{key:"nextEpisode",value:function(){var t=this.state,e=t.index,n=t.episodes;this.selectEpisode(Math.min(e+1,n.length-1))}},{key:"selectEpisode",value:function(t){var e=this,n=this.props.podcast,o=this.state,r=o.episodes,i=o.currentImageUrl,a=o.currentAudioUrl,u=c(n,t),s=l(n,t);caches.open("episodes").then(function(t){return Promise.all([t.match(u).then(d.a),t.match(s).then(d.a)])}).then(function(n){var o=y(n,2),c=o[0],l=o[1];i&&URL.revokeObjectURL(i),a&&URL.revokeObjectURL(a),e.setEpisodeStatus(t,l?"downloaded":null),e.setState({index:t,currentImageUrl:c?URL.createObjectURL(c):u,currentAudioUrl:l?URL.createObjectURL(l):s}),document.title=r[t].title})}},{key:"seekTo",value:function(t){this.audioEl.currentTime=t}},{key:"seekBackward",value:function(t){this.audioEl.currentTime-=t}},{key:"seekForward",value:function(t){this.audioEl.currentTime+=t}},{key:"togglePlaying",value:function(){var t=this.audioEl;t.paused?t.play():t.pause()}},{key:"setAutoplay",value:function(t){this.setState({autoplay:t})}},{key:"gotoIndexOnEnter",value:function(t){"Enter"===t.key&&this.gotoIndex(t)}},{key:"gotoIndex",value:function(t){var e=this.state.episodes,n=parseInt(t.target.value);"number"!=typeof n||isNaN(n)||this.selectEpisode(p(n-1,0,e.length-1))}},{key:"episodeEnded",value:function(){var t=this.state,e=t.index,n=t.episodes,o=t.autoplay;e<n.length-1&&o&&this.selectEpisode(e+1)}},{key:"save",value:function(){var t=this.props.podcast,e=this.state,n=e.index,o=e.playing,r=e.position,i=e.autoplay,a=JSON.stringify({index:n,playing:o,position:r,autoplay:i});localStorage.setItem(t+"_place",a)}},{key:"load",value:function(){var t=this.audioEl,e=this.props.podcast;try{var n=JSON.parse(localStorage.getItem(e+"_place")),o=n.index,r=n.playing,i=n.position,a=n.autoplay;t.currentTime=i,this.setState({playing:r,autoplay:a}),this.selectEpisode(o),r&&t.addEventListener("canplay",function(){t.play()},{once:!0})}catch(t){console.log("Invalid saved JSON"),this.selectEpisode(0)}}},{key:"cacheEpisode",value:function(){var t=this,e=this.props.podcast,n=this.state,o=n.index,r=n.episodes,i=r[o];i.status||(this.setEpisodeStatus(o,"downloading"),s(e,o,i.size).then(function(){t.setEpisodeStatus(o,"downloaded")}))}},{key:"setEpisodeStatus",value:function(t,e){var n=this.state.episodes,o=n[t];n.splice(t,1,v({},o,{status:e})),this.setState({episodes:n.slice()})}}]),e}(f.Component));e.a=b},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),u=(n.n(a),function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}()),s=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={podcasts:[]},n}return i(e,t),u(e,[{key:"componentDidMount",value:function(){var t=this;fetch("/list").then(function(t){return t.json()}).then(function(e){t.setState({podcasts:e})})}},{key:"render",value:function(t,e){var o=e.podcasts;return n.i(a.h)("div",{class:"podcasts"},o.map(function(t){return n.i(a.h)(c,{podcast:t})}))}}]),e}(a.Component);e.a=s;var c=function(t){var e=t.podcast,o=e.name,r=e.humanName;return n.i(a.h)("section",{class:"podcast-card"},n.i(a.h)("a",{href:"/p/"+o},n.i(a.h)("img",{class:"card-image",src:"/p/"+o+"/icon"}),n.i(a.h)("h1",{class:"card-title"},r)))}},function(t,e,n){!function(e,o){t.exports=o(n(0))}(this,function(t){"use strict";function e(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g,r=/(?:\?([^#]*))?(#.*)?$/,i=t.match(r),a={},u=void 0;if(i&&i[1])for(var s=i[1].split("&"),c=0;c<s.length;c++){var l=s[c].split("=");a[decodeURIComponent(l[0])]=decodeURIComponent(l.slice(1).join("="))}t=o(t.replace(r,"")),e=o(e||"");for(var p=Math.max(t.length,e.length),f=0;f<p;f++)if(e[f]&&":"===e[f].charAt(0)){var d=e[f].replace(/(^\:|[+*?]+$)/g,""),h=(e[f].match(/[+*?]+$/)||g)[0]||"",v=~h.indexOf("+"),y=~h.indexOf("*"),m=t[f]||"";if(!m&&!y&&(h.indexOf("?")<0||v)){u=!1;break}if(a[d]=decodeURIComponent(m),v||y){a[d]=t.slice(f).map(decodeURIComponent).join("/");break}}else if(e[f]!==t[f]){u=!1;break}return(n.default===!0||u!==!1)&&a}function n(t,e){var n=t.attributes||g,o=e.attributes||g;if(n.default)return 1;if(o.default)return-1;var i=r(n.path)-r(o.path);return i||n.path.length-o.path.length}function o(t){return i(t).split("/")}function r(t){return(i(t).match(/\/+/g)||"").length}function i(t){return t.replace(/(^\/+|\/+$)/g,"")}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t){return C in t}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";k&&k[e]?k[e](t):"undefined"!=typeof history&&history[e+"State"]&&history[e+"State"](null,null,t)}function p(){var t=void 0;return t=k&&k.location?k.location:k&&k.getCurrentLocation?k.getCurrentLocation():"undefined"!=typeof location?location:x,""+(t.pathname||"")+(t.search||"")}function f(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"!=typeof t&&t.url&&(e=t.replace,t=t.url),d(t)&&l(t,e?"replace":"push"),h(t)}function d(t){for(var e=w.length;e--;)if(w[e].canRoute(t))return!0;return!1}function h(t){for(var e=!1,n=0;n<w.length;n++)w[n].routeTo(t)===!0&&(e=!0);return e}function v(t){if(t&&t.getAttribute){var e=t.getAttribute("href"),n=t.getAttribute("target");if(e&&e.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return f(e)}}function y(t){if(0===t.button)return v(t.currentTarget||t.target||this),m(t)}function m(t){return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault()),!1}function b(t){if(!(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){var e=t.target;do if("A"===String(e.nodeName).toUpperCase()&&e.getAttribute("href")&&c(e)){if(0!==t.button)return;if(v(e))return m(t)}while(e=e.parentNode)}}var g={},_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},k=null,w=[],x={},C="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_";"function"==typeof addEventListener&&(addEventListener("popstate",function(){return h(p())}),addEventListener("click",b));var E=function(e){return t.h("a",_({},e,{onClick:y}))},S=function(t){function o(e){a(this,o);var n=u(this,t.call(this,e));return e.history&&(k=e.history),n.state={url:n.props.url||p()},n}return s(o,t),o.prototype.shouldComponentUpdate=function(t){return t.static!==!0||(t.url!==this.props.url||t.onChange!==this.props.onChange)},o.prototype.canRoute=function(t){return this.getMatchingChildren(this.props.children,t,!1).length>0},o.prototype.routeTo=function(t){return this._didRoute=!1,this.setState({url:t}),this.updating?this.canRoute(t):(this.forceUpdate(),this._didRoute)},o.prototype.componentWillMount=function(){w.push(this),this.updating=!0},o.prototype.componentDidMount=function(){this.updating=!1},o.prototype.componentWillUnmount=function(){w.splice(w.indexOf(this),1)},o.prototype.componentWillUpdate=function(){this.updating=!0},o.prototype.componentDidUpdate=function(){this.updating=!1},o.prototype.getMatchingChildren=function(t,o,r){return t.slice().sort(n).filter(function(t){var n=t.attributes,i=n.path,a=e(o,i,n);if(a){if(r!==!1){n.url=o,n.matches=a;for(var u in a)a.hasOwnProperty(u)&&(n[u]=a[u])}return!0}})},o.prototype.render=function(t,e){var n=t.children,o=t.onChange,r=e.url,i=this.getMatchingChildren(n,r,!0),a=i[0]||null;this._didRoute=!!a;var u=this.previousUrl;return r!==u&&(this.previousUrl=r,"function"==typeof o&&o({router:this,url:r,previous:u,active:i,current:a})),a},o}(t.Component),O=function(e){var n=e.component,o=e.url,r=e.matches;return t.h(n,{url:o,matches:r})};return S.route=f,S.Router=S,S.Route=O,S.Link=E,S})},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(0),u=(n.n(a),n(1),function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}()),s=function(t){function e(t){o(this,e);var n=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={src:""},n}return i(e,t),u(e,[{key:"componentWillReceiveProps",value:function(t){var e=this;""===t.src?this.setState({src:""}):t.src!==this.state.src&&fetch(t.src).then(function(n){if(!n.ok)throw null;e.setState({src:t.src})}).catch(function(t){e.setState({src:""})})}},{key:"render",value:function(t,e){var o=e.src;return n.i(a.h)("div",{class:"podcast-image"},n.i(a.h)("img",{src:o||"/images/podcast_300.png"}))}}]),e}(a.Component);e.a=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=(n.n(o),n(4)),i=n.n(r),a=n(3),u=n(2);navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js"),n.i(o.render)(n.i(o.h)(i.a,null,n.i(o.h)(a.a,{path:"/"}),n.i(o.h)(u.a,{path:"/p/:podcast"})),document.getElementById("mount"))}]);